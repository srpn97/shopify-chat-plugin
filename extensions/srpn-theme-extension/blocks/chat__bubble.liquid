<div id="chat-bubble-container" class="{{ block.settings.position }}">
    <button id="chat-bubble">
      <img src="{{ 'thumbs-up.png' | asset_img_url: '20x20' }}" alt="Chat" class="chat-logo" width="20" height="20">
    </button>
    <div id="chat-box" class="hidden">
      <p id="chat-message">Click the bubble to load a message.</p>
    </div>
  </div>
  
  <script type="application/json" id="shopInfo">
    {
      "shopName": {{ shop.name | json }},
      "shopEmail": {{ shop.email | json }},
      "shopDomain": {{ shop.domain | json }},
      "customerName": {{ customer.name | json }},
      "customerEmail": {{ customer.email | json }}
    }
  </script>
  
  <style>
    #chat-bubble-container {
      position: fixed;
      bottom: 20px;
      z-index: 1000;
    }
  
    #chat-bubble-container.left-bottom {
      left: 20px;
    }
  
    #chat-bubble-container.middle-bottom {
      left: 50%;
      transform: translateX(-50%);
    }
  
    #chat-bubble {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: #0084ff;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }
  
    .chat-logo {
      width: 20px;
      height: 20px;
    }
  
    #chat-box {
      position: absolute;
      bottom: 80px;
      left: 0;
      width: 250px;
      background-color: white;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
  
    .hidden {
      display: none;
    }
  </style>
  
  {% schema %}
  {
    "name": "Chat Bubble",
    "target": "body",
    "stylesheet": "chat_bubble.css",
    "javascript": "chat_bubble.js",
    "settings": [
      {
        "type": "select",
        "id": "position",
        "label": "Chat Bubble Position",
        "options": [
          {
            "value": "left-bottom",
            "label": "Left Bottom"
          },
          {
            "value": "middle-bottom",
            "label": "Middle Bottom"
          }
        ],
        "default": "left-bottom"
      }
    ]
  }
  {% endschema %}